import{A as h}from"./AppHeader.15100d44.js";import{_ as g,H as y,r as k,t as x,a as w,o as c,c as n,d as r,w as v,b as s,F as p,Q as I,a4 as C,h as d,R as l,p as S,g as D}from"./app.28f0d2fa.js";import"./AppLoader.ceb7a95c.js";const $=_=>(S("data-v-775b36bc"),_=_(),D(),_),N={class:"container-fluid g-0"},V={class:"row"},B={class:"col-12 mb30 df"},M={class:"col-12"},A=$(()=>s("h2",null,"\u0424\u0430\u0439\u043B\u044B \u043D\u0430 \u043C\u043E\u0434\u0435\u0440\u0430\u0446\u0438\u0438",-1)),F={class:"file-table"},H=C('<div class="file-table__head file-item" data-v-775b36bc><div class="file-item__1" data-v-775b36bc>ID</div><div class="file-item__2" data-v-775b36bc>\u0424\u0430\u0439\u043B</div><div class="file-item__3" data-v-775b36bc>\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C</div><div class="file-item__4" data-v-775b36bc>\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435</div><div class="file-item__4" data-v-775b36bc>\u041E\u0442\u043A\u0430\u0437</div></div>',1),E={class:"file-item__1"},L={class:"file-id"},Q={class:"file-item__2"},R=["href"],T={key:0,class:"ri-file-pdf-2-line"},j=["src"],q={class:"file-item__3"},z={class:"file-user"},G={class:"file-user__bottom"},J={class:"file-item__4"},K=["onClick"],O={class:"file-item__4"},P=["onClick"],U={__name:"Docs",setup(_){const u=y(),i=k([]);x(async()=>{const e=await axios.get("/api/admin/docs/edit");i.value=e.data.files});const m=async e=>{try{if((await axios.post(`/api/admin/docs/${e}/approve`)).data.result===!0){const a=i.value.findIndex(t=>t.id===e);i.value.splice(a,1)}}catch(o){console.log(o.message),u.dispatch("notification/displayMessage",{value:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0438 \u0444\u0430\u0439\u043B\u0430",type:"error"})}},b=async e=>{try{if((await axios.post(`/api/admin/docs/${e}/cancel`)).data.result===!0){const a=i.value.findIndex(t=>t.id===e);i.value.splice(a,1)}}catch(o){console.log(o.message),u.dispatch("notification/displayMessage",{value:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0438 \u0444\u0430\u0439\u043B\u0430",type:"error"})}};return(e,o)=>{const a=w("router-link");return c(),n(p,null,[r(h,null,{default:v(()=>[d("\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B")]),_:1}),s("main",null,[s("div",N,[s("div",V,[s("div",B,[r(a,{class:"btn btn-default btn-settings",to:{name:"admin.docs-confirm"}},{default:v(()=>[d("\u0421\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u043F\u0440\u043E\u0432\u0435\u0440\u0435\u043D\u043D\u044B\u0435")]),_:1},8,["to"]),r(a,{class:"btn btn-default btn-settings",to:{name:"admin.docs-cancel"}},{default:v(()=>[d("\u0421\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u043E\u0442\u043C\u0435\u043D\u0435\u043D\u043D\u044B\u0435")]),_:1},8,["to"])]),s("div",M,[A,s("div",F,[H,(c(!0),n(p,null,I(i.value,t=>(c(),n("div",{class:"file-item",key:t.id},[s("div",E,[s("div",L,l(t.id),1)]),s("div",Q,[s("a",{href:"/storage/"+t.path,target:"_blank"},[t.path.includes("pdf")?(c(),n("i",T)):(c(),n("img",{key:1,src:"/storage/"+t.path,alt:"img"},null,8,j))],8,R),d(" "+l(t.type),1)]),s("div",q,[s("div",z,[r(a,{target:"_blank",to:`/admin/user/${t.user.id}`,class:"file-user__top"},{default:v(()=>[d(l(t.user.surname)+" "+l(t.user.name),1)]),_:2},1032,["to"]),s("div",G,l(t.user.email),1)])]),s("div",J,[s("div",{class:"btn btn-default btn-settings",onClick:f=>m(t.id)},"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C",8,K)]),s("div",O,[s("div",{class:"btn btn-default btn-settings",onClick:f=>b(t.id)},"\u041E\u0442\u043A\u0430\u0437\u0430\u0442\u044C",8,P)])]))),128))])])])])])],64)}}},Z=g(U,[["__scopeId","data-v-775b36bc"]]);export{Z as default};
