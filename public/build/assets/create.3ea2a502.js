import{_ as b,H as x,a0 as A,r as l,a as d,o as u,c as h,d as m,w as V,b as t,e as y,f as w,V as f,T as _,Y as v,F as k,h as U}from"./app.28f0d2fa.js";import{A as B}from"./AppEditor.d31e23a5.js";import{A as C}from"./AppHeader.15100d44.js";import{A as E}from"./AppLoader.ceb7a95c.js";const H={name:"page.create",components:{AppEditor:B,AppHeader:C,AppLoader:E},setup(){const c=x(),e=A(),a=l(!1),o=l(),r=l(),i=l("");return{submit:async()=>{a.value=!0;try{const n=await axios.post("/api/admin/page/store",{title:o.value,slug:r.value,text:i.value});e.push(`/admin/page/${n.data}`)}catch{c.dispatch("notification/displayMessage",{value:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",type:"error"})}a.value=!1},title:o,text:i,slug:r,loading:a}}},N={class:"container-fluid g-0"},L={class:"row"},M={class:"col-12"},R={class:"dashboard-item"},S={class:"form-control"},T=t("label",{for:"title"},"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",-1),F={class:"form-control"},I=t("label",{for:"slug"},"URI (Slug)",-1),D={class:"form-control"},Y=t("label",{for:"content"},"\u0421\u043E\u0434\u0435\u0440\u0436\u0430\u043D\u0438\u0435",-1);function j(c,e,a,o,r,i){const p=d("AppHeader"),n=d("AppLoader"),g=d("AppEditor");return u(),h(k,null,[m(p,null,{default:V(()=>[U("\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443")]),_:1}),t("main",null,[t("div",N,[t("div",L,[t("div",M,[t("div",R,[o.loading?(u(),y(n,{key:0})):w("",!0),t("form",{onSubmit:e[4]||(e[4]=f(()=>{},["prevent"]))},[t("div",S,[T,_(t("input",{class:"form-input",type:"text",name:"title","onUpdate:modelValue":e[0]||(e[0]=s=>o.title=s),id:"title",placeholder:"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A"},null,512),[[v,o.title]])]),t("div",F,[I,_(t("input",{class:"form-input",type:"text",name:"slug","onUpdate:modelValue":e[1]||(e[1]=s=>o.slug=s),id:"slug",placeholder:"URI (\u0427\u041F\u0423)"},null,512),[[v,o.slug]])]),t("div",D,[Y,m(g,{modelValue:o.text,"onUpdate:modelValue":e[2]||(e[2]=s=>o.text=s),id:"content"},null,8,["modelValue"])]),t("button",{class:"btn btn-default btn-settings",onClick:e[3]||(e[3]=f((...s)=>o.submit&&o.submit(...s),["prevent"]))},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C")],32)])])])])])],64)}const K=b(H,[["render",j]]);export{K as default};
